## 2.1 Principles of Network Applications

네트워크 애플리케이션의 핵심은 바로 **서로 다른 end system에서 실행되고 네트워크를 통해 통신하는 프로그램을 작성하는 것**이다.

- 웹 서버와 웹 브라우저
- 핸드폰에서 재생되는 넷플릭스와 넷플릭스 서버

따라서 새로운 애플리케이션을 개발할 때 multiple end systems에서 실행될 소프트웨어를 작성해야 한다. 여기서 중요한 점은, 라우터나 스위치 같은 **네트워크 코어 장치**에서 실행되는 소프트웨어를 작성할 필요는 없다는 것이다. 네트워크 코어 장치는 application Layer가 아니라 하위 layer에서 작동하기 때문이다.

![](https://velog.velcdn.com/images/choiyoung6609/post/69c5c235-e080-40f8-b266-1262bb3e3b53/image.png)

### Network Application Architectures
애플리케이션 아키텍처(not network Architectures - 5 Layers)는 애플리케이션 개발자가 설계하며 대표적으로 client-server 방식과 P2P 방식이 있다.

> ⭐**Client-server Architecture**
**클라이언트 서버 아키텍처**에서 서버는 항상 존재하며 다른 호스트-client들의 요청을 처리한다.(ex) Web 서비스) 주의할 점은 client끼리는 서로 통신하지 않는다는 것이다. 
또 다른 특징으로는 **서버의 IP 주소가 고정되어 있다는 것이다.** 이유는 서버의 IP 주소가 고정되어야 Client가 서버의 IP 주소로 패킷을 보낼 수 있기 떄문이다.
![](https://velog.velcdn.com/images/choiyoung6609/post/8c5b255f-3b70-4259-82de-881879bb4fe8/image.png)


> ⭐**P2P Architecture**
**P2P 아키텍처**는 데이터 센터의 전용 서버에 대한 의존도가 거의 없다. 대신에 간헐적으로 연결된 호스트 간의 직접 통신을 활용한다. (called peers). Peer들은 서버를 거치지 않고 Peer들끼리 통신하기 떄문에 Peer-to-Peer 통신이라고 부른다.
P2P 아키텍처의 강력한 기능 중 하나는 **자체 확장성(self-scalability)**이다. 또한, 서버가 필요없기 때문에 **비용 효율적**이다. 
그러나, 너무 분산되어 있기 떄문에 보안, 성능, 신뢰성 문제가 있다.
![](https://velog.velcdn.com/images/choiyoung6609/post/15571bf0-a43a-42ca-8977-86c8786dd0b4/image.png)

---
### Processes Communicating
네트워크 애플리케이션을 네트워크를 통해 서로 메세지를 보내는 프로세스 쌍으로 구성된다. 
**Client-server Process** :  각 프로세스 쌍에서 두 프로세스 중 하나를 클라이언트로, 나머지를 서버라고 라벨링한다. 이때 P2P 같은 일부 애플리케이션에서는 프로세스가 클라이언트이자 서버일 수도 있다. 그럼에도 불구하고 다음과 같이 클라이언트와 서버를 정의할 수 있다.

> **한 쌍의 통신 세션에서 통신을 시작하는 프로세스가 클라이언트이고, 연결을 기다리는 프로세스가 서버 프로세스이다.**

#### 프로세스와 컴퓨터 네트워크 간의 인터페이스
이때 프로세스는 **소켓이라는 소프트웨어 인터페이스**를 통해서 네트워크로 메세지를 보내고 전달받는다.애플리케이션과 네트워크 사이의 API라고도 한다. 응용 개발자가 소켓의 전송 계층에 대해서는 거의 제어가 불가능하지만, 전송 프로토콜 선택 및 일부 수정 기능을 가지고 있기는 하다.

![](https://velog.velcdn.com/images/choiyoung6609/post/3430074f-8d99-4e8c-b6a9-a599f9a8b7aa/image.png)


#### 주소 지정 프로세스
특정 프로세스로 패킷을 전달하기 위해서는 주소가 필요하다. 주소에는 호스트의 주소와 호스트의 프로세스 주소가 필요하다.

호스트 : IP 주소(대략 32bit)</br>
프로세스 주소 : 포트 번호

---

### Transport Services Availble to Applications
애플리케이션을 개발할 때는 사용 가능한 전송 계층 프로토콜 하나를 선택해야 한다. 전송 계층 프로토콜이 제공할 수 있는 서비스는 크게 4가지 정도로 구분할 수 있다.

- ** 안정적인 데이터 전송** : 패킷 손상되거나 패킷이 손실되었을 때 이를 처리해주어 수신자에게 완전하게 전달될 수 있도록 조치를 취한다. 
- **처리량** : 다른 세션과 대역폭을 공유하기 떄문에 처리량은 시간에 따라 변동 가능하다. 이러한 관찰은 특정 속도로 사용 가능한 처리량을 보장하는 것으로 이어진다. 
- **타이밍** : 처리량 보장과 마찬가지로 다양한 형태로 나타날 수 있다. 예를 송신자가 보내는 모든 비트가 100msec 안에 도착하는 것을 보장해준다.
- **보안** : 하나 이상의 보안 서비스를 제공할 수 있다.(데이터 암호화 등)

---

### Transport Services Provided by the Internet
지금까지는 컴퓨터 네트워크가 일반적으로 제공할 수 있는 transport 서비스를 제시했다. 이제는 인터넷이 제공하는 전송 서비스 유형에 대해 살펴보자! 일반저긍로 UDP와 TCP라는 두 가지 전송 프로토콜을 사용할 수 있다.

#### TCP 서비스
- 연결 지향 서비스 : 메시지 흐름 전에 서로 전송 계층 제어 정보를 교환한다.
- 안정적인 데이터 전송 서비스 : 모든 데이터를 오류 없이 적절한 순서로 전달할 수 있다.
    
#### UDP 서비스
최소한의 서비스를 제공하는 가벼운 전송 프로토콜. tcp와 반대로 메세지 흐름 전에 연결하지 않으며 신뢰할 수 없는 데이터 전송 서비스를 제공한다. 혼잡 제어 메카니즘이 없기 때문ㄴ에 원하는 속도로 아래 계층에 데이터를 쏟을 수 있다. (단, 아래 계층에서의 처리 속도는 보장할 수 없다.)

---

### Services Not Provided by Internet Transport Protocols
오늘날 인터넷 전송 프로토콜에서는 처리량이나 타이밍을 보장해주지 않는다. 그러나 수년 동안 민감한 애플리케이션을 만족할 수 있도록 개발되었기 때문에 꽤 괜찮은 서비스를 제공할 수 있다.
**즉, 시간에 민감한 애플리케이션에 만족할 만한 서비스를 제공할 수는 있지만 타이망과 처리량을 보장할 수는 없다.**
