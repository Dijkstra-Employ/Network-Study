## 6. 인터넷 제어 메세지 프로토콜(ICMP)
**인터넷 제어 메세지 프로토콜(ICMP)**는 호스트와 라우터 간에 서로 네트워크 계층 정보를 주고받기 위해 사용된다. IP라고 착각하는 경우가 있지만 **TCP/UDP 처럼 IP 페이로드**로 전송되며, (상위 계층 프로토콜 번호가 1번인)IP 데이터그램을 받으면 ICMP로 내용을 역다중화한다.

![](https://velog.velcdn.com/images/choiyoung6609/post/d2421001-3d1a-4f8c-835d-60598ac34f2e/image.png)

- **오류 보고** : HTTP 연결 시 목적지 네트워크에 도달할 수 없음.(경로를 찾을 수 없을 때 호스트에게 오류를 알리기 위한 목적)

- **출발지 억제** : 혼잡 제어를 위해서 라우터에서 보내는 메세지이지만 잘 사용되지 않는다.

- **경로 추적(traceroute)** : 없을 것 같은 UDP 포트 번호 사용, TTL 값은 첫 번째 데이터그램이 1, 그 다음이 2 ..이런식으로 증가한다. TTL이 만료됐을 때 ICMP 메세지를 보내기 때문에 이 메세지가 출발지에 도착하면 **왕복 시간과 n번째 라우터의 주소와 이름을 획득**한다.
