## 5. 미들 박스
라우터는 IP 데이터그램을 목적지로 포워딩하는 작어을 진행한다. 그러나 이외에도 **데이터 경로에 위치**하여, **전달 이외의 기능**을 수행하는 **네트워크 장비(박스)**를 다루었다. 예를 들어, **웹 캐시, TCP 연결 스플리터, NAT, 방화벽, 침입 탐지 시스템** 등이 있다. 또한, 일반화된 포워딩이 매치 플러스 작업을 통해 **방화벽과 로드 밸런싱을 쉽고 자연스럽게 수행**할 수 있도록 한다는 것을 배웠다. 

> **미들박스**
출발지 호스트와 목적지 호스트 사이의 데이터 경로에서 IP 라우터의 정상적이고 표준적인 기능과는 **별도로 기능을 수행하는 모든 미들박스**

미들박스에는 보통 세 가지 유형이 있다.
- NAT 변환
- 보안 서비스 : 트래픽 차단, DPI 같은 추가 처리를 위한 패킷 리다이렉션, 패킷 필터링
- 성능 향상 : **압축과 같은 서비스** 수행. 즉, **로드 밸런싱**을 통해 여러 서버로 분산되도록 하여 서버에 **부담을 줄임**

미들박스가 수행됨에 따라 이를 **효율적으로 운영, 관리, 업그레이드** 해야 할 필요성이 증가했다.전문화된 하드웨어와 소프트웨어 운영 기술은 비용이 많이 든다. **즉, 각 미들박스가 고유의 하드웨어와 소프트웨어를 필요로 하고, 이를 관리하고 운영하는데 별도의 기술과 자원이 요구되므로 비용이 많이 든다.**
=> 이러한 문제를 해결하기 위해 **상용 하드웨어**와 **공통 소프트웨어 스택 위에 구축된 전문 소프트웨어**를 사용하는 방식을 탐구하고 있다. 이러한 접근 방식은 **네트워크 기능 가상화(NFV)**로 알려지게 되었다. **NFV는 하드웨어를 가상화하여 네트워크 기능을 소프트웨어로 구현하는 방식**이다. 또 다른 방식으로는 **미들박스를 클라우드에 아웃소싱**하는 방법이다. 로컬 하드웨어와 소프트웨어에 대한 의존도를 줄일 수 있다. 

옛날에는 네트워크 계층과 트랜스포트/애플리케이션 계층 사이에 명확한 분리가 있었다. 그러나 미들박스는 이러한 경계를 지운다. 
