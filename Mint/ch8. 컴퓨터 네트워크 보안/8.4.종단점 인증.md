# 8.4 종단점 인증

- 하나의 통신 개체가 다른 개체에게 자신의 신원을 컴퓨터 네트워크상으로 증명하는 작업
- 인증은 인증 프로토콜로서 교환된 메세지와 데이터를 기반으로 수행된다.
- 인증은 다른 프로토콜(데이터 전송, 라우팅 정보 교환 등) 이전에 수행된다.

> ap (authentication protocol, 인증 프로토콜)

- 앨리스와 밥이 서로 통신한다고 가정한다.

## 8.4.1 인증 프로토콜 ap 1.0

- 앨리스가 **자신이 앨리스라고 언급한 메세지**를 밥에게 보낸다.
- 침입자 또한 같은 메세지를 보낼 수 있으므로 안전하지 않다.

## 8.4.2 인증 프로토콜 ap 2.0

- 밥은 인증 메세지의 IP 데이터그램의 **출발 주소가 앨리스의 IP 주소**인지 확인하여 인증한다.
- `IP 스푸핑`을 통해 침입자가 앨리스의 주소를 IP 데이터그램의 출발주소로 하여 전송할 수 있으므로 안전하지 않다.

## 8.4.3 인증 프로토콜 ap 3.0

- **비밀번호**를 사용하여 서로를 인증한다.
- 침입자는 앨리스의 통신을 도청하여 앨리스의 비밀번호를 알아낼 수 있어 안전하지 않다.

## 8.4.4 인증 프로토콜 ap 3.1

- **비밀번호를 암호화**하여 메세지와 함께 전송한다.
- 트루디는 앨리스의 통신을 도청하여 암호화된 비밀번호를 저장하고, 후에 밥에게 앨리스인것처럼 메세지를 전송할 수 있다. (**재생 공격**)

> 밥은 앨리스가 보낸 원래의 인증 요청 메세지와 이후 재생한 메세지를 구별하지 못한다.

## 8.4.5 인증 프로토콜 ap 4.0

- **`넌스`(nonce) 를 사용하여 실시간성을 보장**한다.
    - `nonce` : 프로토콜이 평생에 단 한번 사용하는 숫자
    - 앨리스가 메세지를 보내면 밥은 `넌스`를 전송하고, 앨리스는 대칭 비밀키를 이용해 넌스를 암호화하여 전송한다.
    - 밥은 암호화한 넌스를 복호화하여 자신이 보낸 넌스와 같다면 앨리스를 인증한다.
    - 앨리스가 실제 통신중이라는 것을 확인할 수 있다.
